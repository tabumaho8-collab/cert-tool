<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¤¾å†…ãƒ„ãƒ¼ãƒ« ãƒãƒ¼ã‚¿ãƒ«</title>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* CSSå¤‰æ•°ã¯ãã®ã¾ã¾ç¶­æŒ */
        :root {
            /* Stylish (Default) */
            --bg-color: #f4f7f6;
            --bg-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --font-family: "Helvetica Neue", "Noto Sans JP", Arial, sans-serif;
            --text-color: #2d3436;
            --text-sub: #636e72;
            --accent-color: #6c5ce7;
            --accent-hover: #5649c0;
            --sidebar-bg: rgba(255, 255, 255, 0.7);
            --card-bg: rgba(255, 255, 255, 0.8);
            --border-radius: 12px;
            --border-style: 1px solid rgba(255,255,255,0.6);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            --backdrop-filter: blur(8px);
            --header-bg: #2d3436;
            --header-text: #ffffff;
            --card-border-left: 4px solid var(--accent-color);
            --btn-radius: 6px;
            --section-line: 1px solid #b2bec3;
            --header-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* Kawaii */
        body.theme-kawaii {
            --bg-color: #fff0f5;
            --bg-image: radial-gradient(#ffcdd2 20%, transparent 20%), radial-gradient(#ffcdd2 20%, transparent 20%); 
            --font-family: "M PLUS Rounded 1c", sans-serif;
            --text-color: #5d4037;
            --text-sub: #8d6e63;
            --accent-color: #ff9eb5;
            --accent-hover: #ff7eb3;
            --sidebar-bg: #ffffff;
            --card-bg: #fffcf0;
            --border-radius: 25px;
            --border-style: 3px solid #fff;
            --shadow: 3px 3px 0px rgba(255, 182, 193, 0.5);
            --backdrop-filter: none;
            --header-bg: #ff9eb5;
            --header-text: #ffffff;
            --card-border-left: none;
            --btn-radius: 30px;
            --section-line: 2px dashed #ff9eb5;
            --header-shadow: 0 2px 5px rgba(255, 182, 193, 0.5);
        }

        /* Cyber Glass (Dark) */
        body.theme-dark {
            --bg-color: #050508;
            --bg-image: linear-gradient(rgba(0, 229, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 229, 255, 0.05) 1px, transparent 1px);
            --font-family: "Helvetica Neue", "Noto Sans JP", Arial, sans-serif;
            --text-color: #e0f7fa;
            --text-sub: #80deea;
            --accent-color: #00e5ff;
            --accent-hover: #00b8d4;
            --sidebar-bg: rgba(15, 23, 42, 0.7);
            --card-bg: rgba(20, 30, 50, 0.6);
            --border-radius: 6px;
            --border-style: 1px solid rgba(0, 229, 255, 0.2);
            --shadow: 0 4px 30px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(0, 229, 255, 0.05);
            --backdrop-filter: blur(10px);
            --header-bg: rgba(5, 10, 20, 0.9);
            --header-text: var(--accent-color);
            --card-border-left: 1px solid var(--accent-color);
            --btn-radius: 4px;
            --section-line: 1px solid rgba(0, 229, 255, 0.2);
            --header-shadow: 0 1px 0px rgba(0, 229, 255, 0.3);
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            background-image: var(--bg-image);
            background-size: cover;
            margin: 0; padding: 0;
            display: none; /* åˆæœŸéè¡¨ç¤º */
            color: var(--text-color);
            display: flex !important; 
            flex-direction: column !important;
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }
        body.theme-kawaii { background-size: 20px 20px; background-position: 0 0, 10px 10px; }
        body.theme-dark { background-size: 40px 40px; }

        header {
            background-color: var(--header-bg); color: var(--header-text); width: 100%; padding: 12px 25px; box-sizing: border-box; box-shadow: var(--header-shadow); border-bottom: var(--border-style); display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100; flex-shrink: 0; transition: 0.3s; backdrop-filter: blur(5px);
        }
        body.theme-dark h1 { text-shadow: 0 0 10px rgba(0, 229, 255, 0.7); }
        h1 { margin: 0; font-size: 18px; font-weight: bold; letter-spacing: 1px; }

        .header-btns { display: flex; gap: 10px; }
        .theme-btn { background: rgba(255,255,255,0.1); color: inherit; border: 1px solid rgba(255,255,255,0.3); padding: 6px 15px; border-radius: 20px; font-size: 12px; cursor: pointer; transition: 0.2s; font-weight: bold; }
        body.theme-dark .theme-btn { border-color: var(--accent-color); color: var(--accent-color); border-radius: 4px; box-shadow: 0 0 5px rgba(0, 229, 255, 0.4); }
        .theme-btn:hover { background: rgba(255,255,255,0.2); transform: scale(1.05); }
        .logout-btn { background: rgba(128,128,128,0.3); color: inherit; border: none; padding: 6px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; }
        .logout-btn:hover { background: rgba(128,128,128,0.5); }

        .dashboard-container { display: flex; max-width: 1400px; margin: 0 auto; padding: 25px; gap: 25px; align-items: flex-start; box-sizing: border-box; width: 100%; flex-grow: 1; }

        .sidebar { width: 300px; background: var(--sidebar-bg); backdrop-filter: var(--backdrop-filter); padding: 25px; border-radius: var(--border-radius); box-shadow: var(--shadow); border: var(--border-style); flex-shrink: 0; position: sticky; top: 80px; max-height: 85vh; overflow-y: auto; transition: 0.3s; }
        .sidebar h3 { margin-top: 0; font-size: 15px; color: var(--accent-color); border-bottom: var(--section-line); padding-bottom: 10px; margin-bottom: 20px; text-shadow: var(--text-shadow); }
        body.theme-dark .sidebar h3 { text-shadow: 0 0 8px var(--accent-color); }
        .sidebar label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 5px; color: var(--text-color); opacity: 0.9; }
        .sidebar input, .sidebar textarea { width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ddd; border-radius: var(--btn-radius); font-size: 13px; margin-bottom: 15px; background: rgba(255,255,255,0.9); color: #333; font-family: inherit; }
        body.theme-dark .sidebar input, body.theme-dark .sidebar textarea { background: rgba(0, 0, 0, 0.5); color: #fff; border: 1px solid var(--accent-color); box-shadow: inset 0 0 5px rgba(0, 229, 255, 0.2); }
        
        .save-btn { background-color: var(--accent-color); color: white; border: none; padding: 12px; width: 100%; border-radius: var(--btn-radius); font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.2s; font-size: 14px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        body.theme-dark .save-btn { background-color: rgba(0, 229, 255, 0.1); color: var(--accent-color); border: 1px solid var(--accent-color); box-shadow: 0 0 10px rgba(0, 229, 255, 0.2); }
        .save-btn:hover { background-color: var(--accent-hover); transform: translateY(-2px); }
        body.theme-dark .save-btn:hover { background-color: var(--accent-color); color: #000; box-shadow: 0 0 20px var(--accent-color); }

        .seal-area { background: rgba(255,255,255,0.5); padding: 10px; border-radius: 8px; border: 1px dashed #aaa; text-align: center; margin-bottom: 15px; }
        body.theme-dark .seal-area { background: rgba(0,0,0,0.3); border-color: var(--accent-color); border-style: dashed; }
        .seal-preview { width: 60px; height: 60px; object-fit: contain; margin: 5px auto; display: none; background: white; border: 1px solid #eee; }

        .main-content { flex-grow: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; width: 100%; }
        .card { background: var(--card-bg); backdrop-filter: var(--backdrop-filter); padding: 20px; border-radius: var(--border-radius); text-align: center; text-decoration: none; color: var(--text-color); box-shadow: var(--shadow); border: var(--border-style); border-left: var(--card-border-left); transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; box-sizing: border-box; position: relative; overflow: hidden; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0,0,0,0.2); }
        body.theme-dark .card:hover { border-color: var(--accent-color); box-shadow: 0 0 20px rgba(0, 229, 255, 0.4), inset 0 0 10px rgba(0, 229, 255, 0.1); background-color: rgba(20, 30, 50, 0.8); }
        body.theme-kawaii .card:hover { transform: scale(1.05) rotate(1deg); }

        .card-icon { font-size: 32px; margin-bottom: 12px; display: block; transition: 0.3s; }
        body.theme-dark .card-icon { text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .card:hover .card-icon { transform: scale(1.1); }
        .card-title { font-size: 15px; font-weight: bold; display: block; margin-bottom: 6px; }
        .card-desc { font-size: 11px; color: var(--text-sub); line-height: 1.4; }

        .section-title { grid-column: 1 / -1; font-size: 14px; font-weight: bold; color: var(--text-sub); margin-top: 20px; margin-bottom: 5px; padding-left: 10px; border-left: var(--section-line); line-height: 1; }
        body.theme-dark .section-title { color: var(--accent-color); border-left: 4px solid var(--accent-color); text-shadow: 0 0 5px var(--accent-color); }
        .section-title:first-child { margin-top: 0; }

        @media (max-width: 900px) {
            .dashboard-container { flex-direction: column; }
            .sidebar { width: 100%; position: static; order: 2; }
            .main-content { width: 100%; order: 1; }
        }
    </style>
</head>
<body>

    <header>
        <h1>ç¤¾å†…ãƒ„ãƒ¼ãƒ« <span style="font-size:11px; opacity:0.7; font-weight:normal;">Portal</span></h1>
        <div class="header-btns">
            <button onclick="toggleTheme()" id="themeBtn" class="theme-btn">ğŸ¨ ãƒ†ãƒ¼ãƒå¤‰æ›´</button>
            <button onclick="logout()" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar">
            <h3>âš™ï¸ ä¼šç¤¾ãƒ»åŸºæœ¬æƒ…å ±</h3>
            <label>ä¼šç¤¾å</label><input type="text" id="setIssuerName" placeholder="æ ªå¼ä¼šç¤¾ã€‡ã€‡">
            <label>ä½æ‰€ãƒ»TEL</label><textarea id="setIssuerAddr" rows="3" placeholder="ã€’000-0000..."></textarea>
            <label>ä»£è¡¨è€…/æ‹…å½“è€…</label><input type="text" id="setIssuerRep" placeholder="ä»£è¡¨å–ç· å½¹...">
            <label>ç™»éŒ²ç•ªå·(T)</label><input type="text" id="setRegNo" placeholder="T1234567890123">
            <label style="margin-top:10px;">ğŸ”² ä¼šç¤¾å° (è§’å°)</label>
            <div class="seal-area">
                <input type="file" id="fileSealCompany" accept="image/*" style="font-size:11px;" onchange="previewSeal(this, 'prevCompany')">
                <img id="prevCompany" class="seal-preview">
            </div>
            <label style="margin-top:10px;">ğŸ”´ å€‹äººå° (èªå°)</label>
            <div class="seal-area">
                <input type="file" id="fileSealPersonal" accept="image/*" style="font-size:11px;" onchange="previewSeal(this, 'prevPersonal')">
                <img id="prevPersonal" class="seal-preview" style="width:50px; height:50px; border-radius:50%;">
            </div>
            <button onclick="handleSave()" class="save-btn">è¨­å®šã‚’ä¿å­˜ã™ã‚‹</button>
        </aside>

        <main class="main-content">
            <div class="section-title">äº‹å‹™ãƒ»çµŒç†</div>
            <a href="seikyu.html" class="card"><span class="card-icon">ğŸ’°</span><span class="card-title">è«‹æ±‚æ›¸ ä½œæˆ</span><span class="card-desc">æŒ¯è¾¼å…ˆä¿å­˜ãƒ»è¨ˆç®—è‡ªå‹•</span></a>
            <a href="mitsumori.html" class="card"><span class="card-icon">ğŸ§®</span><span class="card-title">è¦‹ç©æ›¸ ä½œæˆ</span><span class="card-desc">æœ‰åŠ¹æœŸé™ä»˜ã</span></a>
            <a href="chumon.html" class="card"><span class="card-icon">ğŸ›ï¸</span><span class="card-title">æ³¨æ–‡æ›¸ (ç™ºæ³¨)</span><span class="card-desc">ç´æœŸãƒ»å ´æ‰€æŒ‡å®šå¯èƒ½</span></a>
            <a href="nohin.html" class="card"><span class="card-icon">ğŸ“¦</span><span class="card-title">ç´å“æ›¸ ä½œæˆ</span><span class="card-desc">å—é ˜å°ã‚¨ãƒªã‚¢ä»˜ã</span></a>
            <a href="ryoshusho.html" class="card"><span class="card-icon">Â¥</span><span class="card-title">é ˜åè¨¼ (è©³ç´°)</span><span class="card-desc">æ˜ç´°ä»˜ããƒ»ã‚¤ãƒ³ãƒœã‚¤ã‚¹å¯¾å¿œ</span></a>
            <a href="ryoshusho_simple.html" class="card"><span class="card-icon">ğŸ§¾</span><span class="card-title">é ˜åæ›¸ (ç°¡æ˜“)</span><span class="card-desc">åˆè¨ˆã®ã¿ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰ä½œæˆ</span></a>
            <a href="zaishoku.html" class="card"><span class="card-icon">ğŸ“„</span><span class="card-title">åœ¨è·è¨¼æ˜æ›¸</span><span class="card-desc">å…¬çš„æ–‡æ›¸ã‚¹ã‚¿ã‚¤ãƒ«</span></a>
            <a href="ringi.html" class="card"><span class="card-icon">ğŸˆ¸</span><span class="card-title">ç¨Ÿè­°æ›¸ ä½œæˆ</span><span class="card-desc">æ‰¿èªå°æ ä»˜ã</span></a>
            <a href="gijiroku.html" class="card"><span class="card-icon">ğŸ“</span><span class="card-title">ä¼šè­°è­°äº‹éŒ²</span><span class="card-desc">ToDoç®¡ç†ãƒ»è¡Œè¿½åŠ </span></a>
            <a href="phone.html" class="card"><span class="card-icon">ğŸ“</span><span class="card-title">é›»è©±ãƒ¡ãƒ¢</span><span class="card-desc">å—é›»å†…å®¹ã‚’å³ã‚³ãƒ”ãƒ¼</span></a>
        
            <div class="section-title">ç™ºé€ãƒ»è´ˆç­”</div>
            <a href="label.html" class="card"><span class="card-icon">ğŸ·ï¸</span><span class="card-title">å®›åãƒ©ãƒ™ãƒ«</span><span class="card-desc">A4 12é¢ãƒ»CSVå–è¾¼</span></a>
            <a href="fax.html" class="card"><span class="card-icon">ğŸ“ </span><span class="card-title">FAX é€ä»˜çŠ¶</span><span class="card-desc">ã‚¤ãƒ³ã‚¯ç¯€ç´„ãƒ‡ã‚¶ã‚¤ãƒ³</span></a>
            <a href="sofujo.html" class="card"><span class="card-icon">âœ‰ï¸</span><span class="card-title">é€ä»˜çŠ¶</span><span class="card-desc">æŒ¨æ‹¶æ–‡è‡ªå‹•æŒ¿å…¥</span></a>
            <a href="sofujo_multi.html" class="card"><span class="card-icon">ğŸ“š</span><span class="card-title">ä¸€æ‹¬ é€ä»˜çŠ¶</span><span class="card-desc">å®›å…ˆãƒªã‚¹ãƒˆç®¡ç†</span></a>
            <a href="envelope.html" class="card"><span class="card-icon">ğŸ“®</span><span class="card-title">å°ç­’å°åˆ·</span><span class="card-desc">é•·å½¢3å·ãƒ»æ¨ªæ›¸ã</span></a>
            <a href="noshi.html" class="card"><span class="card-icon">ğŸ</span><span class="card-title">ã®ã—ç´™</span><span class="card-desc">ç´…ç™½ãƒ»ä»äº‹åˆ‡æ›¿å¯</span></a>

            <div class="section-title">å‹¤æ€ ãƒ»ç²¾ç®—</div>
             <a href="kintai.html" class="card"><span class="card-icon">ğŸ“…</span><span class="card-title">å‹¤æ€ ãƒ»æœ‰çµ¦è¨ˆç”»</span><span class="card-desc">å¹´é–“110æ—¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</span></a>
            <a href="tsukin.html" class="card"><span class="card-icon">ğŸš—</span><span class="card-title">é€šå‹¤è²»ç²¾ç®—</span><span class="card-desc">ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å½¢å¼ãƒ»ä¾‹å¤–å¯¾å¿œ</span></a>
            <a href="keihi.html" class="card"><span class="card-icon">ğŸšƒ</span><span class="card-title">çµŒè²»ç²¾ç®—</span><span class="card-desc">äº¤é€šè²»è‡ªå‹•è¨ˆç®—</span></a>
       
            <div class="section-title">ç®¡ç†</div>
            <a href="backup.html" class="card"><span class="card-icon">ğŸ’¾</span><span class="card-title">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</span><span class="card-desc">ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã¨å¾©å…ƒ</span></a>
        </main>
    </div>

    <!-- Script: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚‚å†…è”µ -->
    <script src="settings.js"></script>
    <script>
        const PASSWORD = "0000"; 
        const SESSION_KEY = "access_token"; 

        // â–  èªè¨¼ãƒã‚§ãƒƒã‚¯ (å†…è”µ)
        function checkAuth() {
            if (sessionStorage.getItem(SESSION_KEY) === "allowed") {
                document.body.style.display = "flex"; 
                return;
            }
            setTimeout(() => {
                const input = prompt("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
                if (input === PASSWORD) {
                    sessionStorage.setItem(SESSION_KEY, "allowed");
                    document.body.style.display = "flex";
                } else {
                    document.body.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:100vh;width:100%;background:#222;color:#fff;"><button onclick="location.reload()" style="padding:15px 30px;cursor:pointer;border-radius:30px;border:none;background:#00e5ff;font-weight:bold;">ğŸ”‘ ãƒ­ã‚°ã‚¤ãƒ³</button></div>';
                    document.body.style.display = "flex";
                }
            }, 50);
        }

        // â–  ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        function logout() {
            if(confirm("ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ")) {
                sessionStorage.removeItem(SESSION_KEY);
                location.reload();
            }
        }

        // å®Ÿè¡Œ
        checkAuth();

        const THEMES = ['', 'theme-kawaii', 'theme-dark'];

        window.addEventListener('load', () => {
            const savedTheme = localStorage.getItem('my_tool_theme');
            if (savedTheme && THEMES.includes(savedTheme)) {
                document.body.className = savedTheme;
            }
            updateBtnText();
            if(typeof loadSettingsToInputs === 'function') loadSettingsToInputs();
        });

        function handleSave() {
            if (typeof saveSettings === 'function') saveSettings();
            else alert("settings.js èª­è¾¼ã‚¨ãƒ©ãƒ¼");
        }

        function toggleTheme() {
            const body = document.body;
            let currentClass = "";
            if (body.classList.contains('theme-kawaii')) currentClass = 'theme-kawaii';
            else if (body.classList.contains('theme-dark')) currentClass = 'theme-dark';
            
            const currentIndex = THEMES.indexOf(currentClass);
            const nextIndex = (currentIndex + 1) % THEMES.length;
            const nextClass = THEMES[nextIndex];

            body.className = nextClass;
            localStorage.setItem('my_tool_theme', nextClass);
            updateBtnText();
        }

        function updateBtnText() {
            const btn = document.getElementById('themeBtn');
            const body = document.body;
            
            if (body.classList.contains('theme-kawaii')) {
                btn.innerText = "ğŸ’– ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ (æ¬¡:Neon)";
                btn.style.color = "#fff";
                btn.style.borderColor = "#fff";
            } else if (body.classList.contains('theme-dark')) {
                btn.innerText = "âš¡ ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ (æ¬¡:Simple)";
                btn.style.color = "#00e5ff"; 
                btn.style.borderColor = "#00e5ff";
            } else {
                btn.innerText = "âœ¨ ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ (æ¬¡:Kawaii)";
                btn.style.color = "#fff";
                btn.style.borderColor = "rgba(255,255,255,0.5)";
            }
        }
    </script>
</body>
</html>