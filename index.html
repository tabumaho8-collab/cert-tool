<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¤¾å†…ãƒ„ãƒ¼ãƒ« ãƒãƒ¼ã‚¿ãƒ«</title>
    <style>
        /* --- ãƒªã‚»ãƒƒãƒˆ & åŸºæœ¬è¨­å®š --- */
        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
            display: none; /* â˜…é‡è¦: åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º(ãƒ­ãƒƒã‚¯) */
            color: #333;
            display: flex !important; 
            flex-direction: column !important;
            min-height: 100vh;
        }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ --- */
        header {
            background-color: #333;
            color: white;
            width: 100%;
            padding: 10px 20px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            flex-shrink: 0;
        }
        h1 { margin: 0; font-size: 18px; font-weight: bold; }

        /* ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ */
        .logout-btn {
            background: #555;
            color: #fff;
            border: 1px solid #777;
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        .logout-btn:hover { background: #777; }

        /* --- ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ --- */
        .dashboard-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
            align-items: flex-start;
            box-sizing: border-box;
            width: 100%;
            flex-grow: 1;
        }

        /* --- å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ --- */
        .sidebar {
            width: 300px; /* å°‘ã—ã‚¹ãƒªãƒ ã« */
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-top: 4px solid #2c517c;
            flex-shrink: 0;
            position: sticky;
            top: 70px; /* ãƒ˜ãƒƒãƒ€ãƒ¼åˆ† */
            max-height: 90vh;
            overflow-y: auto;
        }
        .sidebar h3 { margin-top: 0; font-size: 16px; color: #2c517c; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px; }
        .sidebar label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 4px; color: #555; }
        .sidebar input, .sidebar textarea { width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-size: 13px; margin-bottom: 10px; }
        
        .save-btn {
            background-color: #2c517c; color: white; border: none; 
            padding: 12px; width: 100%; border-radius: 4px; 
            font-weight: bold; cursor: pointer; margin-top: 10px;
            transition: background 0.2s;
            font-size: 14px;
        }
        .save-btn:hover { background-color: #1a3655; }

        .seal-area { background: #f9f9f9; padding: 10px; border-radius: 4px; border: 1px dashed #ccc; text-align: center; margin-bottom: 15px; }
        .seal-preview { width: 60px; height: 60px; object-fit: contain; margin: 5px auto; display: none; border: 1px solid #ddd; background: white; }

        /* --- å³ãƒ¡ã‚¤ãƒ³ (ãƒ„ãƒ¼ãƒ«ä¸€è¦§) --- */
        .main-content {
            flex-grow: 1;
            display: grid;
            /* â˜…å¤‰æ›´ç‚¹: æœ€å°å¹…ã‚’200pxã«ã—ã¦4åˆ—å…¥ã‚Šã‚„ã™ãã—ã¾ã—ãŸ */
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px; /* éš™é–“ã‚’å°‘ã—è©°ã‚ã‚‹ */
            width: 100%;
        }

        .card {
            background: white;
            padding: 15px; /* ä½™ç™½ã‚’æ¸›ã‚‰ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã« */
            border-radius: 8px;
            text-align: center;
            text-decoration: none;
            color: #333;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            box-sizing: border-box;
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #007bff;
        }
        /* ã‚¢ã‚¤ã‚³ãƒ³ã¨æ–‡å­—ã‚µã‚¤ã‚ºã‚‚å°‘ã—èª¿æ•´ */
        .card-icon { font-size: 28px; margin-bottom: 8px; display: block; }
        .card-title { font-size: 14px; font-weight: bold; display: block; margin-bottom: 4px; }
        .card-desc { font-size: 11px; color: #666; line-height: 1.3; }

        .section-title {
            grid-column: 1 / -1;
            font-size: 13px; font-weight: bold; color: #777; 
            margin-top: 15px; margin-bottom: 5px; padding-left: 5px;
            border-left: 4px solid #ccc; line-height: 1;
        }
        .section-title:first-child { margin-top: 0; }

        @media (max-width: 900px) {
            .dashboard-container { flex-direction: column; }
            .sidebar { width: 100%; position: static; order: 2; }
            .main-content { width: 100%; order: 1; }
        }
    </style>
</head>
<body>

    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <h1>ç¤¾å†…æ›¸é¡ä½œæˆãƒ„ãƒ¼ãƒ« <span style="font-size:11px; font-weight:normal;">v5.5</span></h1>
        <!-- ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ -->
        <button onclick="logout()" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </header>

    <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ -->
    <div class="dashboard-container">
        
        <!-- â–¼ å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼šè¨­å®šã‚¨ãƒªã‚¢ â–¼ -->
        <aside class="sidebar">
            <h3>âš™ï¸ ä¼šç¤¾ãƒ»åŸºæœ¬æƒ…å ±</h3>
            
            <label>ä¼šç¤¾å</label>
            <input type="text" id="setIssuerName" placeholder="æ ªå¼ä¼šç¤¾ã€‡ã€‡">
            
            <label>ä½æ‰€ãƒ»TEL</label>
            <textarea id="setIssuerAddr" rows="3" placeholder="ã€’000-0000..."></textarea>
            
            <label>ä»£è¡¨è€…/æ‹…å½“è€…</label>
            <input type="text" id="setIssuerRep" placeholder="ä»£è¡¨å–ç· å½¹...">
            
            <label>ç™»éŒ²ç•ªå·(T)</label>
            <input type="text" id="setRegNo" placeholder="T1234567890123">

            <label style="margin-top:10px;">ğŸ”² ä¼šç¤¾å° (è§’å°)</label>
            <div class="seal-area">
                <input type="file" id="fileSealCompany" accept="image/*" style="font-size:11px;" onchange="previewSeal(this, 'prevCompany')">
                <img id="prevCompany" class="seal-preview">
            </div>

            <label style="margin-top:10px;">ğŸ”´ å€‹äººå° (èªå°)</label>
            <div class="seal-area">
                <input type="file" id="fileSealPersonal" accept="image/*" style="font-size:11px;" onchange="previewSeal(this, 'prevPersonal')">
                <img id="prevPersonal" class="seal-preview" style="width:50px; height:50px; border-radius:50%;">
            </div>

            <button onclick="handleSave()" class="save-btn">è¨­å®šã‚’ä¿å­˜ã™ã‚‹</button>
            <p style="font-size:10px; color:#666; margin-top:10px; text-align:center;">
                â€»ã“ã“ã§ä¿å­˜ã™ã‚‹ã¨å…¨ãƒ„ãƒ¼ãƒ«ã«åæ˜ ã•ã‚Œã¾ã™
            </p>
        </aside>

        <!-- â–¼ å³ãƒ¡ã‚¤ãƒ³ï¼šãƒ„ãƒ¼ãƒ«ä¸€è¦§ â–¼ -->
        <main class="main-content">
            
            <div class="section-title">äº‹å‹™ãƒ»çµŒç†</div>

            <a href="seikyu.html" class="card">
                <span class="card-icon">ğŸ’°</span>
                <span class="card-title">è«‹æ±‚æ›¸ ä½œæˆ</span>
                <span class="card-desc">æŒ¯è¾¼å…ˆä¿å­˜ãƒ»è¨ˆç®—è‡ªå‹•<br>æ¶ˆè²»ç¨åŒºåˆ†å¯¾å¿œ</span>
            </a>

            <a href="mitsumori.html" class="card">
                <span class="card-icon">ğŸ§®</span>
                <span class="card-title">è¦‹ç©æ›¸ ä½œæˆ</span>
                <span class="card-desc">æœ‰åŠ¹æœŸé™ä»˜ã<br>ç·‘è‰²ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</span>
            </a>
            
            <a href="chumon.html" class="card">
                <span class="card-icon">ğŸ›ï¸</span>
                <span class="card-title">æ³¨æ–‡æ›¸ (ç™ºæ³¨æ›¸)</span>
                <span class="card-desc">ç´æœŸãƒ»å ´æ‰€æŒ‡å®šå¯èƒ½<br>ç´«è‰²ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</span>
            </a>

            <a href="nohin.html" class="card">
                <span class="card-icon">ğŸ“¦</span>
                <span class="card-title">ç´å“æ›¸ ä½œæˆ</span>
                <span class="card-desc">å—é ˜å°æ¬„ã‚ã‚Š<br>ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</span>
            </a>

            <a href="ryoshusho.html" class="card">
                <span class="card-icon">Â¥</span>
                <span class="card-title">é ˜åè¨¼ (è©³ç´°)</span>
                <span class="card-desc">ã‚¤ãƒ³ãƒœã‚¤ã‚¹å¯¾å¿œãƒ»æ˜ç´°ä»˜ã<br>è‡ªå‹•è¨ˆç®—</span>
            </a>

            <a href="ryoshusho_simple.html" class="card">
                <span class="card-icon">ğŸ§¾</span>
                <span class="card-title">é ˜åæ›¸ (ç°¡æ˜“)</span>
                <span class="card-desc">åˆè¨ˆé‡‘é¡ã®ã¿å…¥åŠ›<br>ã‚¹ãƒ”ãƒ¼ãƒ‰ä½œæˆ</span>
            </a>

            <a href="zaishoku.html" class="card">
                <span class="card-icon">ğŸ“„</span>
                <span class="card-title">åœ¨è·è¨¼æ˜æ›¸</span>
                <span class="card-desc">æ°åãƒ»æœŸé–“ã‚’å…¥åŠ›ã—ã¦<br>å³æ™‚ç™ºè¡Œ</span>
            </a>

            <a href="ringi.html" class="card">
                <span class="card-icon">ğŸˆ¸</span>
                <span class="card-title">ç¨Ÿè­°æ›¸ ä½œæˆ</span>
                <span class="card-desc">æ‰¿èªå°æ ä»˜ã<br>èµ·æ¡ˆè€…å°ã¯è‡ªå‹•</span>
            </a>
            
            <a href="gijiroku.html" class="card">
                <span class="card-icon">ğŸ“</span>
                <span class="card-title">ä¼šè­°è­°äº‹éŒ²</span>
                <span class="card-desc">æ±ºå®šäº‹é …ãƒ»ToDoç®¡ç†<br>è¡Œè¿½åŠ æ©Ÿèƒ½ä»˜ã</span>
            </a>

            <!-- é›»è©±ãƒ¡ãƒ¢ -->
            <a href="phone.html" class="card">
                <span class="card-icon">ğŸ“</span>
                <span class="card-title">é›»è©±ãƒ¡ãƒ¢</span>
                <span class="card-desc">å—é›»å†…å®¹ã‚’å³ã‚³ãƒ”ãƒ¼<br>ãƒãƒ£ãƒƒãƒˆè²¼ã‚Šä»˜ã‘ç”¨</span>
            </a>
        

            <div class="section-title">ç™ºé€ãƒ»è´ˆç­”</div>
            

            <a href="fax.html" class="card">
                <span class="card-icon">ğŸ“ </span>
                <span class="card-title">FAX é€ä»˜çŠ¶</span>
                <span class="card-desc">è¦‹ã‚„ã™ã„å¤ªå­—ãƒ‡ã‚¶ã‚¤ãƒ³<br>ã‚¤ãƒ³ã‚¯ç¯€ç´„ä»•æ§˜</span>
            </a>

            <a href="sofujo.html" class="card">
                <span class="card-icon">âœ‰ï¸</span>
                <span class="card-title">é€ä»˜çŠ¶ (å˜ç™º)</span>
                <span class="card-desc">ç¤¾å¤–ãƒ»ç¤¾å†…åˆ‡æ›¿å¯<br>æŒ¨æ‹¶æ–‡è‡ªå‹•æŒ¿å…¥</span>
            </a>

            <a href="sofujo_multi.html" class="card">
                <span class="card-icon">ğŸ“š</span>
                <span class="card-title">ä¸€æ‹¬ é€ä»˜çŠ¶</span>
                <span class="card-desc">æ”¯åº—ãƒ»é–¢é€£ä¼šç¤¾ã¸ä¸€æ–‰ä½œæˆ<br>å®›å…ˆãƒªã‚¹ãƒˆç®¡ç†</span>
            </a>

            <a href="envelope.html" class="card">
                <span class="card-icon">ğŸ“®</span>
                <span class="card-title">å°ç­’ å®›åå°åˆ·</span>
                <span class="card-desc">é•·å½¢3å·ã‚µã‚¤ã‚º<br>æ¨ªæ›¸ããƒ»æ•¬ç§°åˆ‡æ›¿</span>
            </a>
            
            <!-- å®›åãƒ©ãƒ™ãƒ« -->
            <a href="label.html" class="card">
                <span class="card-icon">ğŸ·ï¸</span>
                <span class="card-title">å®›åãƒ©ãƒ™ãƒ«å°åˆ·</span>
                <span class="card-desc">A4 12é¢ã‚·ãƒ¼ãƒ«å¯¾å¿œ<br>ä¸€æ‹¬å…¥åŠ›ãƒ»è‡ªç¤¾ãƒ©ãƒ™ãƒ«</span>
            </a>
            
            <a href="noshi.html" class="card">
                <span class="card-icon">ğŸ</span>
                <span class="card-title">ã®ã—ç´™ ä½œæˆ</span>
                <span class="card-desc">A4ã‚µã‚¤ã‚ºæ›ã‘ç´™<br>ç´…ç™½ãƒ»ä»äº‹åˆ‡æ›¿å¯</span>
            </a>


            <div class="section-title">å‹¤æ€ ãƒ»ç²¾ç®—</div>

             <a href="kintai.html" class="card">
                <span class="card-icon">ğŸ“…</span>
                <span class="card-title">å‹¤æ€ ãƒ»æœ‰çµ¦è¨ˆç”»</span>
                <span class="card-desc">å¹´é–“110æ—¥ãƒ»é€£ä¼‘å–å¾—ã®<br>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</span>
            </a>

            <a href="tsukin.html" class="card">
                <span class="card-icon">ğŸš—</span>
                <span class="card-title">é€šå‹¤è²»ç²¾ç®—æ›¸</span>
                <span class="card-desc">æ¯æ—¥ã®é€šå‹¤è²»ç®¡ç†<br>ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å½¢å¼ãƒ»ä¾‹å¤–å¯¾å¿œ</span>
            </a>

            <a href="keihi.html" class="card">
                <span class="card-icon">ğŸšƒ</span>
                <span class="card-title">çµŒè²»ç²¾ç®—æ›¸</span>
                <span class="card-desc">äº¤é€šè²»ãƒ»çµŒè²»ã®è¨ˆç®—<br>è‡ªå‹•åˆè¨ˆãƒ»15è¡Œå¯¾å¿œ</span>
            </a>
       
            <div class="section-title">ç®¡ç†</div>

            <a href="backup.html" class="card">
                    <span class="card-icon">ğŸ’¾</span>
                    <span class="card-title">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</span>
                    <span class="card-desc">è¨­å®šãƒ»å±¥æ­´ã®ä¿å­˜ã¨å¾©å…ƒ</span>
            </a>

        </main>
    </div>

    <!-- å¿…é ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="auth.js"></script>
    <script src="settings.js"></script>
    
    <script>
        // ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯
        if (typeof checkAuth === 'function') {
            checkAuth();
        } else {
            alert("auth.jsãŒèª­ã¿è¾¼ã‚ã¾ã›ã‚“ã€‚");
            document.body.style.display = "block";
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†
        window.addEventListener('load', () => {
            // è¨­å®šå€¤ã‚’å¾©å…ƒ
            if(typeof loadSettingsToInputs === 'function') {
                loadSettingsToInputs();
            }
        });

        // ä¿å­˜ãƒœã‚¿ãƒ³å‡¦ç†
        function handleSave() {
            if (typeof saveSettings === 'function') {
                saveSettings();
            } else {
                alert("settings.js ã‚’èª­ã¿è¾¼ã‚ã¦ã„ã¾ã›ã‚“ã€‚");
            }
        }
    </script>
</body>
</html>