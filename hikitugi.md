# 📘 社内書類作成ツール 開発・運用引き継ぎ書

**作成日:** 2025年12月12日
**開発環境:** HTML, CSS, JavaScript
**公開環境:** Vercel (GitHub連携)

---

## 1. ツール概要
ブラウザ上で「在職証明書」や「領収証」などの社内書類を作成し、A4サイズで印刷・PDF保存するためのツール群です。
ポータル画面（メニュー）から各ツールにアクセスして使用します。

### 主な特徴
*   **インストール不要:** URLにアクセスするだけで使用可能。
*   **自動計算:** 領収証の消費税（10%/8%）、合計金額を自動計算。
*   **会社情報の一括管理:** 一度登録すれば、全ての書類に会社名・住所等が自動反映される。
*   **セキュリティ:** 簡易的なパスワードロック機能付き（`lock.js`）。

---

## 2. システム構成（仕組み）

このツールは、以下の仕組みで動いています。

1.  **コード置き場 (GitHub):**
    *   インターネット上の倉庫。ここに最新のプログラムが保存されています。
    *   アカウント名: `tabumaho8-collab` (※または `tabumaho7-code`)
    *   リポジトリ名: `shorui` (または `cert-tool`)
2.  **公開サーバー (Vercel):**
    *   GitHubの中身を自動で読み取って、世界中にWebサイトとして表示するサービス。
    *   GitHubが更新されると、Vercelも自動で更新されます。
3.  **データベース:**
    *   サーバー上のデータベースは使用していません。
    *   **LocalStorage (ブラウザ保存):** 会社情報や領収証の連番などは、使う人のブラウザ（ChromeやEdge）の中に保存されます。

---

## 3. ファイル構成
フォルダの中身は以下のようになっています。
**重要:** フォルダ階層を深くせず、すべて同じ場所に並べてください（Vercelのエラー原因になります）。

| ファイル名 | 説明 |
| :--- | :--- |
| **index.html** | **【玄関】** メニュー画面。会社情報の登録機能もここにあります。 |
| **zaishoku.html** | **【在職証明書】** 入力フォームとプレビュー画面。 |
| **ryoshusho.html** | **【領収証・詳細】** 明細行あり、インボイス対応、自動ナンバリング機能付き。 |
| **ryoshusho_simple.html** | **【領収書・簡易】** 合計金額のみ入力するタイプ。 |
| **lock.js** | **【鍵】** パスワード制限（ログイン機能）を管理するプログラム。 |
| **settings.js** | **【脳】** 会社情報の保存・読み込みを一括管理するプログラム。 |

---

## 4. 更新手順（ここが一番大事！）
内容を修正したり、新しいツールを追加した時は、以下の手順で更新します。

### 手順①：ファイルの編集
手元のパソコンで HTML や JS ファイルを編集・保存します。

### 手順②：PowerShellで送信（デプロイ）
1.  作業フォルダを開き、何もないところで `Shift` + `右クリック` → **「PowerShell ウィンドウをここで開く」**。
2.  以下の3つのコマンドを順番に入力します。

```powershell
# 1. 変更したファイルをすべて荷台に乗せる
git add .

# 2. メッセージを付けて箱詰めする（"修正内容" は変えてOK）
git commit -m "修正内容のメモ"

# 3. GitHubへ送信する
git push
```

### 手順③：確認
`git push` が成功（`Writing objects... 100%` と表示）すれば、**Vercelが自動的に感知して、約1分後にWebサイトが更新**されます。
サイトを開いて変更が反映されているか確認してください。

---

## 5. よくあるトラブルと対処法

### Q1. Vercelで "404 Not Found" になる
*   **原因:** GitHub内のフォルダ階層が深くなっている可能性があります（例: `Desktop/syorui/index.html`）。
*   **対処:** ファイルを一番上（ルート）に移動させるか、Vercelの Settings > Build & Deployment > **Root Directory** を確認・修正してください。基本は「空欄」がベストです。

### Q2. 会社情報が反映されない
*   **原因:** `index.html` で保存ボタンを押していないか、ブラウザのキャッシュの問題。
*   **対処:** `index.html` で再度「設定を保存する」を押してください。また、各ファイルの底にある `<script src="settings.js"></script>` が正しく書かれているか確認してください。

### Q3. GitHubに送れない（エラーが出る）
*   **エラー:** `remote: Repository not found`
    *   **対処:** ログインしているGitHubアカウントが違います。`git remote set-url ...` で正しいURLを設定し直してください。
*   **エラー:** `failed to push some refs`
    *   **対処:** GitHub上のデータと手元のデータが食い違っています。強制的に上書きする場合は `git push -f origin main` を使いますが、慎重に行ってください。

---

## 6. 各種設定値（カスタマイズ用）

プログラム内の以下の部分を書き換えることで設定変更できます。

*   **パスワード変更:**
    *   `lock.js` の 2行目: `const PASSWORD = "0000";` の数字を変更。
*   **領収証の明細行数:**
    *   `ryoshusho.html` の script内: `const ROW_COUNT = 6;` の数字を変更。
*   **領収証の初期番号:**
    *   `ryoshusho.html` の script内: `loadReceiptNumber` 関数にある `"100001"` を変更。

---

以上
---

# 📘 社内書類作成ツール 開発・運用引き継ぎ書 (v3.0)

**最終更新:** 2025年12月15日
**開発言語:** HTML5, CSS3, JavaScript (Vanilla)
**インフラ:** Vercel (GitHub連携)

---

## 1. ツール概要
Webブラウザ上で動作する、社内事務作業の統合ポータルシステム。
インストール不要で利用でき、入力データはサーバーではなくユーザーのブラウザ内（LocalStorage）に保存されるため、手軽かつセキュリティリスクを抑えた設計となっている。

### ✨ 主な機能
*   **ポータル画面:** ダッシュボード形式（2カラム）でツールと設定を集約。
*   **書類作成:** 請求書、領収証、在職証明書、送付状などをPDF化・印刷。
*   **自動化機能:**
    *   **共通情報反映:** 会社名・住所などを全ツールへ自動入力。
    *   **電子印鑑:** 透過PNG画像を登録し、書類に自動押印（ON/OFF可）。
    *   **自動計算:** 消費税（10%/8%）、小計、合計の自動算出。
    *   **自動採番:** 請求書・領収証のNo.を印刷ごとに自動カウントアップ。
*   **一括処理:** 支店・関連会社への送付状を一括生成・印刷。

---

## 2. システム構成（データの流れ）

### 共通データ管理 (`settings.js`)
*   **保存:** `index.html` のサイドバーで入力された「会社情報」と「ハンコ画像データ（Base64変換）」を `localStorage` に保存。
*   **反映:** 各ツールを開いた瞬間にデータを読み込み、IDマッピング機能を用いて適切な入力欄に値をセットする。

### 電子印鑑の仕組み
*   画像ファイルをBase64文字列（テキストデータ）に変換してブラウザに保存している。
*   **注意:** データ容量制限のため、画像サイズは500KB以下推奨。背景が透明なPNG必須。

---

## 3. ファイル構成と役割

| ファイル名 | 分類 | 役割・機能 |
| :--- | :--- | :--- |
| `index.html` | **玄関** | ダッシュボード画面。共通設定（会社情報・ハンコ）の登録。 |
| `lock.js` | **認証** | 簡易パスワードロック機能。 |
| `settings.js` | **設定** | データの保存・読込・反映ロジックの中枢。 |
| `zaishoku.html` | 一般 | **在職証明書**。ハンコ対応。 |
| `ryoshusho.html` | 一般 | **領収証(詳細)**。明細行あり、インボイス対応、自動採番、ハンコON/OFF。 |
| `ryoshusho_simple.html` | 一般 | **領収証(簡易)**。合計金額入力のみ。ハンコON/OFF。 |
| `seikyu.html` | 一般 | **請求書**。振込先保存、自動採番、ハンコON/OFF。 |
| `sofujo.html` | 発送 | **送付状(単発)**。社外/社内切替、挨拶文自動挿入、個人差出人保存。 |
| `sofujo_multi.html` | 発送 | **一括送付状**。宛先リスト管理、一括印刷機能。 |
| `envelope.html` | 発送 | **封筒印刷**。長形3号サイズ、横書き。 |

---

## 4. 保存データキー一覧 (LocalStorage)
デバッグやデータ移行の際に参照する、ブラウザ内の保存キー名。

| キー名 (`Key`) | 保存内容 | 使用ファイル |
| :--- | :--- | :--- |
| `my_tool_company_info` | 会社基本情報 ＋ ハンコ画像データ | 全般 |
| `my_tool_receipt_seq` | 領収証の連番 (次回番号) | ryoshusho.html |
| `my_tool_invoice_seq` | 請求書の連番 (次回番号) | seikyu.html |
| `my_tool_invoice_auto_mode`| 請求書自動採番のON/OFF状態 | seikyu.html |
| `my_tool_bank_info` | 請求書の振込先口座情報 | seikyu.html |
| `my_tool_sofujo_sender` | 送付状の個人差出人情報 | sofujo.html / multi |
| `my_tool_destinations` | 一括送付状の宛先リスト | sofujo_multi.html |

---

## 5. 更新・運用マニュアル

### 修正を公開する手順 (Git/Vercel)
1.  手元のPCでコードを修正・上書き保存。
2.  作業フォルダでPowerShellを開く。
3.  以下のコマンドを実行してGitHubへ送信。
    ```powershell
    git add .
    git commit -m "修正内容をここに書く"
    git push
    ```
4.  数分待てば、Vercel経由で公開サイトが自動更新される。

### ハンコ画像の登録方法
1.  「Web認印」などのサイトで、背景が**透明**なPNG画像を作成・ダウンロードする。
2.  `index.html` 左側の「電子印鑑」欄からファイルをアップロード。
3.  「設定を保存する」ボタンを押す。

### プリンター設定の注意
*   **封筒印刷:** 用紙サイズを必ず「長形3号 (120x235mm)」に設定する。
*   **送付状のハンコ:** 送付状ツールは、画面上では透かしでハンコ位置が表示されるが、**印刷時にはCSSで非表示になる仕様**（送付状に押印は不要なため）。

---

## 6. よくあるトラブルシューティング

### Q. ハンコが表示されない / 保存できない
*   **原因:** 画像サイズが大きすぎてLocalStorageの容量制限を超えている。
*   **対策:** 画像を縮小するか、もっとシンプルな画像に変更する。推奨は500KB以下。

### Q. 自動採番の番号がずれた / リセットしたい
*   **対策:** 各ツールの入力欄（No.）に、手動で「開始したい番号」を入力して一度印刷する。すると、その番号が次回の基準として保存される。

### Q. Vercelで 404 エラーになる
*   **対策:** GitHubのリポジトリ内でフォルダ階層が深くなっていないか確認。すべての `.html` ファイルはルート（一番上）に置くこと。

---

## 7. 今後の拡張予定（To-Do）

*   [ ] **設定バックアップ機能:** LocalStorageの内容（宛先リストなど）をJSONファイルとして書き出し・読み込みする機能。PC買い替え時のデータ移行に必須。
*   [ ] **計算機の追加:** ジム（スポーツ）用の1RM計算機など、別ジャンルのツール追加。

以上

---

### 📘 2. 引き継ぎ書 (v4.0)

こちらがこれまでの集大成をまとめた**「完全版 引き継ぎ書」**です。
`hikitugi.md` として保存してください。

```markdown
# 📘 社内書類作成ツール 開発・運用引き継ぎ書 (v4.0)

**最終更新:** 2025年12月15日
**開発言語:** HTML5, CSS3, JavaScript (Vanilla)
**インフラ:** Vercel (GitHub連携)

---

## 1. ツール概要
Webブラウザ上で動作する、社内事務作業の統合ポータルシステム。
PC・スマホ両対応。インストール不要。
入力データはサーバーには送信せず、ユーザーのブラウザ内（LocalStorage）に保存されるため、セキュリティリスクを抑えた設計となっている。

### ✨ 実装済み機能リスト
1.  **ポータル画面 (Dashboard):** 
    *   2カラムレイアウト（設定サイドバー固定）。
    *   共通会社情報・電子印鑑の登録機能。
2.  **書類作成ツール:**
    *   **請求書 / 見積書 / 納品書:** インボイス対応、自動計算、自動採番、ハンコ自動押印。
    *   **領収証 (詳細/簡易):** 10%/8%計算、ハンコ自動押印。
    *   **送付状:** 社外/社内切替、挨拶文定型ボタン、個人差出人保存。
    *   **一括送付状:** 宛先リスト管理、一括生成・印刷。
    *   **封筒印刷:** 長形3号、横書き。
    *   **在職証明書:** A4公的文書スタイル。
3.  **業務支援ツール:**
    *   **経費精算書:** 交通費計算、15行対応。
    *   **通勤費精算書:** 経路マスタ保存、カレンダー式入力、月別データ保存。
    *   **稟議書:** 承認フロー枠付き。
    *   **勤怠・有給シミュレーター:** 年間休日・有給残管理、カレンダー一括表示。

---

## 2. デザイン・レイアウト共通ルール
書類の見た目を統一するため、以下のルールでコーディングされている。

*   **会社情報ブロック:**
    *   右端に寄せるが、内部のテキストは**「左揃え」**にする。
    *   CSS: `width: max-content; margin-left: auto; text-align: left;`
*   **電子印鑑:**
    *   サイズ: **40px** (四角)
    *   位置: 担当者名の横に少し被るように配置（`position: absolute; right: -15px;`）。
    *   印刷設定: **印刷時は電子印鑑のみ表示し、手押し用のダミー枠や収入印紙の文字は消す**。

---

## 3. ファイル構成一覧

| ファイル名 | 分類 | 役割・機能 |
| :--- | :--- | :--- |
| `index.html` | **玄関** | ダッシュボード画面。共通設定。 |
| `lock.js` | **認証** | 簡易パスワードロック機能。 |
| `settings.js` | **設定** | データの保存・読込・反映ロジックの中枢。 |
| `seikyu.html` | 事務 | **請求書**。振込先保存、自動採番。 |
| `mitsumori.html` | 事務 | **見積書**。有効期限欄あり。緑テーマ。 |
| `nohin.html` | 事務 | **納品書**。受領印欄あり。オレンジテーマ。 |
| `ryoshusho.html` | 事務 | **領収証(詳細)**。明細あり。 |
| `ryoshusho_simple.html` | 事務 | **領収証(簡易)**。合計のみ。 |
| `sofujo.html` | 発送 | **送付状**。挨拶文ボタンあり。 |
| `sofujo_multi.html` | 発送 | **一括送付状**。宛先リスト機能。 |
| `fax.html` | 発送 | **FAX送付状**。太字デザイン。定型文ボタン。 |
| `envelope.html` | 発送 | **封筒印刷**。長形3号。 |
| `keihi.html` | 勤怠 | **経費精算書**。 |
| `tsukin.html` | 勤怠 | **通勤費精算書**。月別保存、経路マスタ。 |
| `ringi.html` | 社内 | **稟議書**。承認印枠。 |
| `kintai.html` | 社内 | **勤怠シミュレーター**。有給管理。 |
| `zaishoku.html` | 社内 | **在職証明書**。 |

---

## 4. 保存データキー一覧 (LocalStorage)
ブラウザに保存されるデータのキー名。データ移行や削除時に参照。

| キー名 (`Key`) | 保存内容 | 
| :--- | :--- | 
| `my_tool_company_info` | 会社基本情報 ＋ ハンコ画像 |
| `my_tool_receipt_seq` | 領収証 連番 |
| `my_tool_invoice_seq` | 請求書 連番 |
| `my_tool_estimate_seq` | 見積書 連番 |
| `my_tool_delivery_seq` | 納品書 連番 |
| `my_tool_invoice_auto_mode` | 自動採番ON/OFF状態 (各書類共通) |
| `my_tool_bank_info` | 振込先口座情報 |
| `my_tool_sofujo_sender` | 送付状 個人差出人 |
| `my_tool_destinations` | 一括送付状 宛先リスト |
| `my_tool_tsukin_routes` | 通勤費 経路マスタ |
| `my_tool_tsukin_data_YYYY-MM` | 通勤費 月別データ |
| `my_tool_kintai_data` | 勤怠カレンダーデータ |
| `my_tool_kintai_stock` | 有給残日数 |

---

## 5. 更新・運用マニュアル

### 修正を公開する手順
1.  手元のPCでコードを修正・上書き保存。
2.  作業フォルダでPowerShellを開く (`Shift`+右クリック)。
3.  以下のコマンドを実行。
    ```powershell
    git add .
    git commit -m "修正内容"
    git push
    ```
4.  数分後、Vercelにて自動反映完了。

### 電子印鑑の仕様
*   推奨サイズ: **500KB以下の透過PNG**。
*   容量オーバーすると保存できないため、画像圧縮サイトなどで軽量化すること。

### プリンター設定
*   **封筒印刷:** 用紙設定を「長形3号」にすること。
*   **余白:** ブラウザ印刷設定で「ヘッダーとフッター」のチェックを外すと、URL等が印字されずきれいになる。

---

## 6. トラブルシューティング

*   **Q. 会社情報が入らない**
    *   A. `index.html` で「設定を保存する」を押し直してください。
*   **Q. レイアウトが崩れる**
    *   A. キャッシュが残っている可能性があります。`Ctrl + F5` (スーパーリロード) を試してください。
*   **Q. 印刷するとハンコが消える**
    *   A. ブラウザの印刷設定で「背景のグラフィック」にチェックを入れてください（ただし、本ツールはCSSで制御しているため、基本的にはチェックなしでも画像は出るはずですが、環境によります）。

以上
```

---

# 📘 社内書類作成ツール 開発・運用引き継ぎ書 (v5.0)

**最終更新:** 2025年12月17日
**開発言語:** HTML5, CSS3, JavaScript (Vanilla)
**インフラ:** Vercel (GitHub連携)

---

## 1. ツール概要
Webブラウザ上で動作する、社内事務作業の統合ポータルシステム。
PC・スマホ両対応。インストール不要。
入力データはサーバーには送信せず、ユーザーのブラウザ内（LocalStorage）に保存されるため、セキュリティリスクを抑えつつ手軽に利用できる。

### ✨ 実装済み機能リスト
1.  **ポータル画面 (Dashboard):** 
    *   2カラムレイアウト（設定サイドバー固定）。
    *   **会社印（角印）** と **個人印（認印）** の2種類を登録・保存可能。
2.  **書類作成ツール:**
    *   **請求書 / 見積書 / 納品書:** 
        *   インボイス対応、自動計算、自動採番。
        *   **ハンコ切替機能**（会社印/個人印）。
        *   印刷時レイアウト最適化（A4自動縮小）。
    *   **領収証 (詳細/簡易):** 10%/8%計算、ハンコ切替、自動採番。
    *   **送付状関係:** FAX、単発送付状、一括送付状、封筒印刷。
    *   **社内・勤怠:** 稟議書、経費精算、通勤費精算、勤怠シミュレーター、在職証明書。
3.  **データ管理:**
    *   会社情報、振込先、経路マスタ、宛先リストなどをブラウザに保存。

---

## 2. システム構成・共通仕様

### 共通データ管理 (`settings.js`)
*   **保存:** `index.html` で入力された「会社情報」と「ハンコ画像（2種）」をBase64変換し `localStorage` に保存。
*   **反映:** 各ツール起動時にデータを読み込み、IDマッピング機能で自動入力。

### ハンコ（電子印鑑）の仕様
*   **画像:** 背景透過PNG推奨（500KB以下）。
*   **切替:** 各ツール内のラジオボタンで「会社印」と「個人印」を切り替え可能。
*   **表示制御:**
    *   **画面上:** 位置確認のため表示。未登録時はダミー枠「(印)」を表示。
    *   **印刷時:** ダミー枠は非表示にし、画像のみを印刷する。

### レイアウト共通ルール（CSS）
書類の「発行者情報（会社名・住所・氏名）」は以下のルールで統一されている。
*   **配置:** ブロック全体を右端に寄せるが、文字の書き出しは左に揃える。
    ```css
    .issuer-info {
        width: max-content;   /* 文字数に合わせて幅を決定 */
        max-width: 50%;       /* 最大でも半分まで */
        margin-left: auto;    /* 右寄せ */
        text-align: left;     /* 内部テキストは左揃え */
        position: relative;   /* ハンコ配置の基準点 */
    }
    ```
*   **ハンコ位置:**
    *   `position: absolute;` で配置。
    *   担当者名の右横に少し重なるように配置（`top: 40px; right: -15px;` 等で微調整済み）。
    *   サイズは **40px × 40px** に統一。

---

## 3. ファイル構成一覧

| ファイル名 | 分類 | 役割・機能 |
| :--- | :--- | :--- |
| `index.html` | **玄関** | ダッシュボード。会社情報・ハンコ(2種)の登録。 |
| `lock.js` | **認証** | 簡易パスワードロック機能。 |
| `settings.js` | **設定** | データ保存・読込・反映ロジックの中枢。 |
| `seikyu.html` | 事務 | **請求書**。ハンコ切替、振込先保存。青テーマ。 |
| `mitsumori.html` | 事務 | **見積書**。有効期限欄。緑テーマ。 |
| `nohin.html` | 事務 | **納品書**。受領印欄。オレンジテーマ。 |
| `ryoshusho.html` | 事務 | **領収証(詳細)**。自動採番、ハンコ切替。 |
| `ryoshusho_simple.html` | 事務 | **領収証(簡易)**。合計のみ入力。 |
| `sofujo.html` | 発送 | **送付状(単発)**。社外/社内切替、個人差出人保存。 |
| `sofujo_multi.html` | 発送 | **一括送付状**。宛先リスト管理、一括印刷。 |
| `fax.html` | 発送 | **FAX送付状**。太字デザイン、定型文ボタン。 |
| `envelope.html` | 発送 | **封筒印刷**。長形3号。 |
| `keihi.html` | 勤怠 | **経費精算書**。 |
| `tsukin.html` | 勤怠 | **通勤費精算書**。月別保存、経路マスタ。 |
| `ringi.html` | 社内 | **稟議書**。承認印枠。起案者印自動。 |
| `kintai.html` | 社内 | **勤怠シミュレーター**。有給管理、カレンダー一括表示。 |
| `zaishoku.html` | 社内 | **在職証明書**。 |

---

## 4. 運用マニュアル

### 印刷時の注意（見切れ対策）
*   各ツールには印刷用のCSS設定が含まれている。
*   `zoom: 0.8;` または `width: 100%;` の指定により、A4用紙に収まるように調整済み。
*   それでも切れる場合は、プリンター設定の「倍率」を調整すること。

### データ移行・バックアップ
*   データはすべてブラウザ（Chrome/Edgeなど）の中に保存されている。
*   **ブラウザのキャッシュをクリアするとデータが消える**ため注意。
*   PC買い替え時は、手動で再登録が必要（将来的にバックアップ機能の実装を推奨）。

---

## 5. 更新手順 (Git/Vercel)

修正を加えた際の公開手順。

1.  手元のPCでファイルを編集・上書き保存。
2.  作業フォルダでPowerShellを開く。
3.  以下のコマンドを実行。
    ```powershell
    git add .
    git commit -m "修正内容のメモ"
    git push
    ```
4.  数分後、Vercel経由でWEBサイトが自動更新される。

以上
# 📘 社内書類作成ツール 開発・運用引き継ぎ書 (v6.5)

**最終更新:** 2025年12月18日
**開発言語:** HTML5, CSS3, JavaScript (Vanilla)
**インフラ:** Vercel (GitHub連携)

---

## 1. ツール概要
Webブラウザ上で動作する、社内事務作業の統合ポータルシステム。
インストール不要で、PC・スマホどちらからでも利用可能。
入力データはサーバーへ送信せず、ユーザーのブラウザ内（LocalStorage）に保存される「ローカル完結型」のため、セキュリティリスクを抑えつつ手軽に利用できる。

### ✨ 主な特徴
*   **3つの選べるデザイン:**
    1.  **Stylish:** 洗練されたすりガラス風（デフォルト）
    2.  **Kawaii:** ピンク・水玉・丸文字（JK風）
    3.  **Neon Dark:** 黒背景・蛍光色（サイバーパンク風）
*   **モバイル対応:** スマホでもレイアウトが崩れず、アプリ感覚で使用可能。
*   **データ管理:** 会社情報、ハンコ、履歴などをブラウザに自動保存。バックアップ機能あり。

---

## 2. システム構成

### 🔐 認証・セキュリティ
*   **簡易ロック機能:**
    *   `index.html` 内に認証ロジックを内蔵（読み込みエラー防止のため）。
    *   初期パスワード: `0000`
    *   セッション管理: ブラウザを閉じても維持、ログアウトボタンで明示的に終了。
*   **データ保護:**
    *   ハンコ画像などの機密情報は `localStorage` に保存。
    *   バックアップファイル（JSON）でのみ外部出力可能。

### 📂 共通データ (`settings.js`)
*   会社情報（社名、住所、インボイス番号）と電子印鑑（会社印・個人印）を管理。
*   各ツール起動時にデータを読み込み、自動入力する。

---

## 3. ファイル構成と機能一覧

| ファイル名 | 分類 | 機能・特徴 |
| :--- | :--- | :--- |
| **index.html** | **ポータル** | メニュー画面。デザイン切替、会社情報・ハンコ登録、認証機能内蔵。 |
| **settings.js** | **設定** | データ保存・読込・反映ロジックの中枢。 |
| **backup.html** | **管理** | 設定データのJSON書き出し・読み込み（移行用）。 |
| | | |
| **seikyu.html** | 経理 | **請求書**。消費税自動計算、振込先保存。 |
| **mitsumori.html** | 経理 | **見積書**。有効期限欄あり。 |
| **chumon.html** | 経理 | **注文書(発注書)**。納期・納入場所指定。 |
| **nohin.html** | 経理 | **納品書**。受領印エリア付き。 |
| **ryoshusho.html** | 経理 | **領収証(詳細)**。インボイス対応、明細付き。 |
| **ryoshusho_simple.html** | 経理 | **領収証(簡易)**。合計金額のみ入力。 |
| | | |
| **phone.html** | 通信 | **電話メモ**。受電内容をクリップボードにコピー。メンバー登録機能付き。 |
| **label.html** | 発送 | **宛名ラベル**。A4 12面。CSV取込、差出人一括設定。 |
| **fax.html** | 発送 | **FAX送付状**。インク節約デザイン。 |
| **sofujo.html** | 発送 | **送付状**。挨拶文自動挿入。 |
| **sofujo_multi.html** | 発送 | **一括送付状**。宛先リスト管理。 |
| **envelope.html** | 発送 | **封筒印刷**。長形3号横書き。 |
| **noshi.html** | 贈答 | **のし紙**。紅白・仏事切替。 |
| | | |
| **kintai.html** | 勤怠 | **勤怠計画**。年間休日・有給アラート機能、カレンダー表示。 |
| **tsukin.html** | 勤怠 | **通勤費**。カレンダー形式入力。 |
| **keihi.html** | 勤怠 | **経費精算**。交通費自動計算。 |
| **zaishoku.html** | 社内 | **在職証明書**。 |
| **ringi.html** | 社内 | **稟議書**。承認印枠付き。 |
| **gijiroku.html** | 社内 | **会議議事録**。ToDo管理。 |

---

## 4. 運用マニュアル

### 🛠 更新手順 (Git/Vercel)
修正を加えた際の公開手順。

1.  手元のPCでファイルを編集・上書き保存。
2.  作業フォルダでPowerShellを開く。
3.  以下のコマンドを実行。
    ```powershell
    git add .
    git commit -m "修正内容のメモ"
    git push
    ```
4.  数分後、Vercel経由で公開サイトが自動更新される。

### 💾 データ移行（PC買い替え時など）
データはブラウザ内に保存されているため、別の端末には共有されません。

1.  **旧PC:** ポータル下部の「バックアップ」→「設定ファイルをダウンロード」。
2.  **新PC:** ポータル下部の「バックアップ」→ ダウンロードしたファイルをドラッグ＆ドロップ。
    *   ※ハンコ画像も含めて復元されます。

### 🏷️ 宛名ラベルのCSV形式
Excel等で作成する場合のルール。
*   ファイル形式: **CSV (コンマ区切り)**
*   文字コード: **Shift-JIS** (Excel標準)
*   列の並び順:
    1.  郵便番号
    2.  住所
    3.  会社名
    4.  役職
    5.  氏名
    6.  件名（"請求書在中"など）

---

## 5. カスタマイズ設定

### パスワードの変更
`index.html` の下部にあるスクリプト内の定数を変更する。
```javascript
const PASSWORD = "0000"; // ←ここを好きな数字・文字に変える
```

---

# 📘 社内書類作成ツール 開発・運用引き継ぎ書 (v7.0)

**最終更新:** 2025年12月23日
**主な変更点:** モバイル・入力UIの全面刷新、テーマ視認性の向上

---

## 1. デザイン・UIの大幅改善

### 🛠️ 入力エリアの拡大 (Standard Width: 500px)
これまでの 380px では、明細行の右端（消費税の選択肢など）が見切れてしまう問題があったため、主要ツールのエディタ幅を **500px** に統一しました。
*   **対象:** 請求書、見積書、納品書、注文書、領収証（詳細・簡易）、電話メモ。
*   これにより、PC画面での入力ミスを防ぎ、すべての項目が快適に操作可能になっています。

### 📱 モバイル完全対応 (Global Responsive Design)
`theme.css` にグローバルなレスポンシブ設定を導入しました。
*   **スマホ表示:** 画面幅が狭い場合、入力エリアとプレビューエリアが自動で**縦一列（スタック）**に並びます。
*   **A4プレビューの保護:** 横幅の足りないスマホでも、A4サイズのプレビューが崩れないよう、**横スクロールで見られる**ように安全策を講じています。
*   **ヘッダー最適化:** ボタンやタイトルが重ならないよう、モバイルでは中央揃えかつ押しやすいサイズに自動調整されます。

---

## 2. ツール別・テーマ別の個別改善

### 💖 Kawaiiモード（絶対にかわいい！）のブラッシュアップ
*   **ヘッダーの重なり解消:** Kawaii特有の大きな装飾ボタンや太字タイトルが重なって切れないよう、ヘッダーに十分な余白（`min-height: 100px`）を確保しました。
*   **アニメーション調整:** ボタンがプカプカ浮くアニメーションが原因で画面外に消えてしまうことがあったため、動作を安定化させました。

### ⚡ クールモード (Neon Dark) の視認性向上
*   **宛名ラベル (`label.html`):** クールモードにしても、**印刷用紙内だけは強制的に黒文字**になるように修正しました。これにより、水色の文字が白い紙に印刷されて見えなくなる事故を防いでいます。
*   **電話メモ (`phone.html`):** ダークモードでの背景を透過黒に設定し、水色のネオン文字がはっきり読めるように視認性を改善しました。

### 📄 領収証（簡易版）の書式修正
*   **金額表示:** 「¥11,000-」のように、末尾にハイフンが自動で入るように変更。
*   **レイアウト:** 合計金額を紙面の中央に大きく配置し、より正式な領収証らしい見た目に調整しました。

---

## 3. 電話メモ (`phone.html`) の独自進化
*   **レイアウト:** 「どうする？」の項目を横並びから**縦一列**に変更し、片手での操作性を向上。
*   **コピー機能:** 出力結果エリアを 500px に広げ、「コピーする」ボタンと同じ幅に揃えることで、生成された文章を一目で確認しやすくしました。

---

## 4. 開発者向けテクニカルメモ
*   **CSS優先順位:** `theme.css` は全ツールの後に読み込まれるため、各ツールのインライン `<style>` よりも優先させたい場合は、一部 `!important` を活用して制御しています。
*   **画像データの扱い:** `settings.js` で管理されるハンコデータは Base64 形式です。データが消えた場合は `backup.html` から復元してください。

以上

📘 引き継ぎ書 (v7.0) の主な内容
全ツールの入力欄を 500px に拡大
請求書、見積書、納品書、注文書、領収証、電話メモなどすべてを見やすく修正。
モバイル完全対応
スマホで見た際に、入力欄とプレビューが自動で縦に並ぶよう調整。
A4用紙のプレビューが崩れないよう、横スクロール機能を導入。
各デザインモードの視認性改善
Kawaiiモード: ヘッダーが重なって切れる問題を解消。
クールモード: 宛名ラベルの文字が水色で見えなくなる問題を修正（印刷用紙内は黒文字固定）。
電話メモの使い勝手向上
「どうする？」項目を縦一列にして操作性を改善。コピーエリアを広げて確認しやすく変更。
領収証（簡易版）の書式修正
「¥11,000-」のハイフン追加と金額の中央寄せ。